弹指足球
我现在想开发一款兼容微信和抖音的小游戏，游戏名称叫弹指足球，核心玩法模仿的是国外一款名叫soccer starts（by miniclip）的游戏，请你联网搜索一下这款游戏了解它的全部信息，提取出核心玩法。游戏有几个模块：登录，账号体系，核心玩法，单人游戏，双人游戏，现在我一一说明：
一、登录：
登录需要支持微信授权登录和抖音授权登录，登录后获取对应的名称和昵称，注意我是个人开发着需要看看是否有接口支持。
二、账号体系：玩家初次授权登录后自动创建账号，账号信息包含：昵称，头像，金币。金币默认注册送50金币，后续可以通过签到登录送金币。每局游戏结束后同步金币。
三、核心玩法：
1.发球方式：参考soccer starts（by miniclip）的核心玩法，开始游戏时在一个迷你足球场里面，中间摆放了足球，左右两边各有5个球员棋子（圆柱型类型中国象棋棋子的形状），一个摆放在禁区内，其余4个2两个前锋靠前，2个后卫靠后散开。由右边玩家发球，发球方式为：点击任意棋子滑动，会出现一个瞄准条和力度圆圈，手指与选中棋子的连线就是瞄准方向，连线越长力度越大但是有一个最大范围值。注意玩家一只手按住不放后，另外一只手滑动屏幕也是可以继续调整方向和力度的。松手后，棋子沿着瞄准线滑动，撞击其它棋子或者足球或者球场边缘，产生物理碰撞效果。
2.游戏规则：2位玩家每人轮流踢球，当把球踢进对方的球筐里面就算自己进球得分+1，踢到自己的球筐算对方进球，对方得分+1。看谁先取得2分，谁就获胜。
3.物理引擎：需要有真实的碰撞效果和滑动以及滚动效果。
4.游戏大小比例：
按照手机屏幕1080*2400 全面屏作为参考，屏幕顶部为玩家头像和比分栏，下面为球场。界面布局见我上传图片。
球场尺寸:
长度: 1824像素
高度: 926像素
球门尺寸:
球门宽度: 107 单位
球门深度: 201 单位
棋子尺寸:
球员棋子直径: 100 单位
足球尺寸:
足球直径: 41 单位
四、单人游戏
单人模式匹配ai玩家进行游玩，ai玩家的难度有三个等级，这里随机匹配。
五、双人游戏
1本地双人：本地进行游玩，由一台手机展示，真实的两位玩家自行轮流操作。相当于两边的棋子
2网络双人：先进入房间大厅，可以创建房间或者加入房间，双方确认后，进行双人游玩。
六、其它注意事项:
1.项目结构要明晰，我希望事件消息能够结构，规则，账户等信息能够单独解耦，按照层级进行划分，文件目录清晰可扩展性高。
2.服务器我使用cloudflare作为我的服务器开发。前端架构我使用Cocos creator 3.8.8版本开发。

七、技术选项
模块,推荐选型,理由 (Vibe Coding 友好度)
渲染引擎,Pixi.js v8,极致轻量，纯代码控制所有节点。AI 很容易理解其层级结构。
物理引擎,Matter.js,2D 物理事实上的标准。API 极其直观，非常适合“弹射”和“碰撞”逻辑。
构建工具,Vite,极速的热更新，配合 vite-plugin-checker 实时检查 TS 错误。
UI 系统,Pixi UI / 自定义,由于小游戏环境没有 DOM，建议封装简单的 Button 类或使用 pixi-ui 库。
跨平台适配,weapp-adapter,解决微信/抖音环境缺少 window/document 的问题，让 Pixi 正常运行。
后端/联机,Cloudflare DO,Durable Objects 提供有状态的实时同步，比传统 Redis+Node 简单 10 倍。

八、代码结构
/弹指足球/
├── game.json               # 小游戏全局配置文件（核心：定义入口和屏幕方向）
├── project.config.json     # 微信开发者工具配置文件
├── tt-project.config.json  # 抖音（字节）开发者工具配置文件
├── assets/                 # 资源目录
│   ├── images/             # 棋子、足球、背景、UI图标
│   ├── sounds/             # 碰撞音效、进球音效、背景音乐
│   └── fonts/              # 游戏字体
├── src/
│   ├── main.js             # 入口文件：初始化 Pixi 和 启动场景
│   ├── config.js           # 全局配置：物理参数、金币规则、API地址
│   ├── constants.js        # 常量定义：事件名、场景名、物理类别
│   │
│   ├── adapter/            # 【新增】环境适配层
│   │   ├── weapp-adapter.js# 模拟 window/document (核心适配器)
│   │   └── symbol.js       # 辅助适配代码
│   ├── core/               # 核心物理与逻辑
│   │   ├── PhysicsEngine.js# Matter.js 初始化与世界管理
│   │   ├── GameRules.js    # 计分、胜负、回合逻辑
│   │   └── AIController.js # AI 发球算法
│   │
│   ├── managers/           # 全局管理器（单例）
│   │   ├── SceneManager.js # 场景切换（核心：控制 Login -> Menu -> Game）
│   │   ├── AudioManager.js # 音效与背景音乐控制
│   │   ├── AccountMgr.js   # 账号、金币同步（Cloudflare 交互）
│   │   ├── EventBus.js     # 全局事件总线（发布/订阅）
│   │   └── Platform.js     # 微信/抖音 API 适配层
│   │
│   ├── scenes/             # 场景逻辑层（每个文件负责一个界面）
│   │   ├── BaseScene.js    # 场景基类
│   │   ├── LoginScene.js   # 授权登录页
│   │   ├── MenuScene.js    # 主菜单（单人/双人入口、个人信息展示）
│   │   ├── LobbyScene.js   # 联机大厅（房间列表、创建房间）
│   │   └── GameScene.js    # 核心战斗场景（棋子操作、物理模拟）
│   │
│   ├── entities/           # 游戏实体
│   │   ├── Striker.js      # 棋子类（物理体 + 渲染体）
│   │   ├── Ball.js         # 足球类
│   │   └── Goal.js         # 球门感应区
│   │
│   └── ui/                 # 通用 UI 组件
│       ├── Button.js       # 自定义 Pixi 按钮
│       ├── Toast.js        # 飘字提示
│       └── Dialog.js       # 通用弹窗（结算、金币不足等）
│
├── network/                # 网络通讯
│   └── CloudflareClient.js # Workers 接口与 WebSocket 处理
└── index.html              # 仅用于 H5 浏览器预览调试

