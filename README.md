弹指足球
我现在想开发一款兼容微信和抖音的小游戏，游戏名称叫弹指足球，核心玩法模仿的是国外一款名叫soccer starts（by miniclip）的游戏，请你联网搜索一下这款游戏了解它的全部信息，提取出核心玩法。游戏有几个模块：登录，账号体系，核心玩法，单人游戏，双人游戏，现在我一一说明：
一、登录：
登录需要支持微信授权登录和抖音授权登录，登录后获取对应的名称和昵称，注意我是个人开发着需要看看是否有接口支持。
二、账号体系：玩家初次授权登录后自动创建账号，账号信息包含：昵称，头像，金币。金币默认注册送50金币，后续可以通过签到登录送金币。每局游戏结束后同步金币。
三、核心玩法：
1.发球方式：参考soccer starts（by miniclip）的核心玩法，开始游戏时在一个迷你足球场里面，中间摆放了足球，左右两边各有5个球员棋子（圆柱型类型中国象棋棋子的形状），一个摆放在禁区内，其余4个2两个前锋靠前，2个后卫靠后散开。由右边玩家发球，发球方式为：点击任意棋子滑动，会出现一个瞄准条和力度圆圈，手指与选中棋子的连线就是瞄准方向，连线越长力度越大但是有一个最大范围值。注意玩家一只手按住不放后，另外一只手滑动屏幕也是可以继续调整方向和力度的。松手后，棋子沿着瞄准线滑动，撞击其它棋子或者足球或者球场边缘，产生物理碰撞效果。
2.游戏规则：2位玩家每人轮流踢球，当把球踢进对方的球筐里面就算自己进球得分+1，踢到自己的球筐算对方进球，对方得分+1。看谁先取得2分，谁就获胜。
3.物理引擎：需要有真实的碰撞效果和滑动以及滚动效果。
4.游戏大小比例：
按照手机屏幕1080*2400 全面屏作为参考，屏幕顶部为玩家头像和比分栏，下面为球场。界面布局见我上传图片。
球场尺寸:
长度: 1824像素
高度: 926像素
球门尺寸:
球门宽度: 107 单位
球门深度: 201 单位
棋子尺寸:
球员棋子直径: 100 单位
足球尺寸:
足球直径: 41 单位
四、单人游戏
单人模式匹配ai玩家进行游玩，ai玩家的难度有三个等级，这里随机匹配。
五、双人游戏
1本地双人：本地进行游玩，由一台手机展示，真实的两位玩家自行轮流操作。相当于两边的棋子
2网络双人：先进入房间大厅，可以创建房间或者加入房间，双方确认后，进行双人游玩。
六、其它注意事项:
1.项目结构要明晰，我希望事件消息能够结构，规则，账户等信息能够单独解耦，按照层级进行划分，文件目录清晰可扩展性高。
2.服务器我使用cloudflare作为我的服务器开发。前端架构我使用Cocos creator 3.8.8版本开发。

七、技术选项
模块,推荐选型,理由 (Vibe Coding 友好度)
渲染引擎,Pixi.js v8,极致轻量，纯代码控制所有节点。AI 很容易理解其层级结构。
物理引擎,Matter.js,2D 物理事实上的标准。API 极其直观，非常适合“弹射”和“碰撞”逻辑。
构建工具,Vite,极速的热更新，配合 vite-plugin-checker 实时检查 TS 错误。
UI 系统,Pixi UI / 自定义,由于小游戏环境没有 DOM，建议封装简单的 Button 类或使用 pixi-ui 库。
跨平台适配,weapp-adapter,解决微信/抖音环境缺少 window/document 的问题，让 Pixi 正常运行。
后端/联机,Cloudflare DO,Durable Objects 提供有状态的实时同步，比传统 Redis+Node 简单 10 倍。

八、代码结构
ProjectRoot/
├── 📂 assets/                  # 静态资源目录
│   ├── 📂 images/              # 图片资源 (球员纹理, 球场背景, UI图标)
│   ├── 📂 sounds/              # 音频资源 (碰撞声, 进球声, 背景乐)
│   └── 📂 fonts/               # 字体文件
│
├── 📂 src/                     # 源代码目录
│   │
│   ├── 📂 adapter/             # 平台适配层 (关键)
│   │   ├── weapp-adapter.js    # 微信/抖音小程序环境模拟 (Window/Document polyfill)
│   │   └── symbol.js           # ES6 Symbol 兼容
│   │
│   ├── 📂 config/              # 静态配置
│   │   ├── GameConfig.js       # 全局配置 (球场尺寸, 物理参数, API地址)
│   │   └── AssetsMap.js        # 资源加载列表
│   │
│   ├── 📂 constants/           # 常量定义
│   │   ├── Events.js           # 事件名枚举 (解耦事件总线)
│   │   ├── SceneNames.js       # 场景名枚举
│   │   └── PhysicsGroups.js    # 物理碰撞分组 (BitMask)
│   │
│   ├── 📂 core/                # 核心游戏逻辑 (纯逻辑，不涉及 UI 渲染)
│   │   ├── PhysicsEngine.js    # Matter.js 物理世界封装 (初始化, 步进, 销毁)
│   │   ├── GameRules.js        # 裁判逻辑 (胜负判定, 进球检测, 轮次管理)
│   │   └── AIController.js     # AI 机器人逻辑 (计算击球力度和角度)
│   │
│   ├── 📂 entities/            # 游戏实体 (组合 物理Body + 渲染View)
│   │   ├── BaseEntity.js       # 实体基类
│   │   ├── Ball.js             # 足球
│   │   ├── Striker.js          # 球员棋子 (玩家/AI)
│   │   ├── Goal.js             # 球门/进球感应区
│   │   └── Wall.js             # 球场边缘墙壁
│   │
│   ├── 📂 managers/            # 单例管理器 (全局服务)
│   │   ├── SceneManager.js     # 场景堆栈管理
│   │   ├── EventBus.js         # 事件总线 (模块间解耦通信)
│   │   ├── Platform.js         # 平台能力封装 (登录, 支付, 震动 - 屏蔽微信/抖音差异)
│   │   ├── AccountMgr.js       # 账号数据管理 (用户信息, 金币同步)
│   │   ├── AudioManager.js     # 音效/音乐管理
│   │   └── NetworkMgr.js       # [核心] 网络通信 (WebSocket/Cloudflare DO 连接管理)
│   │
│   ├── 📂 scenes/              # 游戏场景 (流程控制)
│   │   ├── BaseScene.js        # 场景基类 (生命周期管理)
│   │   ├── LoginScene.js       # 登录场景 (授权)
│   │   ├── MenuScene.js        # 主界面 (模式选择)
│   │   ├── LobbyScene.js       # 网络大厅 (房间列表/匹配)
│   │   └── GameScene.js        # 核心战斗场景 (复用于单人/双人/网络模式)
│   │
│   ├── 📂 ui/                  # UI 组件库 (Pixi Container封装)
│   │   ├── Button.js           # 通用按钮
│   │   ├── Avatar.js           # 用户头像组件
│   │   ├── ScoreBoard.js       # 顶部比分栏
│   │   ├── AimGuide.js         # 拖拽瞄准线辅助组件
│   │   └── ResultDialog.js     # 结算弹窗
│   │
│   ├── 📂 utils/               # 工具类
│   │   └── MathHelper.js       # 向量计算辅助
│   │
│   └── main.js                 # 游戏入口 (初始化引擎, 挂载 Canvas)
│
├── game.json                   # 微信/抖音小程序配置
├── project.config.json         # 开发者工具配置
├── vite.config.js              # 构建配置 (区分 H5 和 小程序打包)
├── package.json                # 依赖管理
└── index.html                  # Web 预览入口

